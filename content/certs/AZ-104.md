---
title: "AZ-104: Microsoft Azure Administrator - Study Guide"
summary: "Quản trị Azure: Entra ID, subscription, storage, VM, networking, monitor – dành cho Azure Administrator Associate."
---

# AZ-104: Microsoft Azure Administrator - Study Guide

Tài liệu tổng hợp các services quan trọng và lợi ích chính cho kỳ thi AZ-104. Nội dung tập trung vào quản trị, định danh, tính toán, lưu trữ và mạng.

---

## 1. Identity & Governance (Định danh & Quản trị)

### Microsoft Entra ID (Azure AD cũ)
Trình quản lý danh tính (Identity) và quyền truy cập dựa trên đám mây.
- **Key Concepts:**
    - **Users & Groups**: Quản lý tài khoản người dùng và nhóm.
    - **MFA (Multi-Factor Authentication)**: Bảo mật đa lớp khi đăng nhập.
    - **SSPR (Self-Service Password Reset)**: Cho phép user tự reset mật khẩu mà không cần admin.
    - **Conditional Access**: Chính sách truy cập có điều kiện (ví dụ: chỉ cho phép login từ IP công ty).

### Advanced Identity Protection
- **Privileged Identity Management (PIM)**: Quản lý quyền admin.
    - **Just-In-Time (JIT)**: Chỉ cấp quyền admin khi cần (trong 1-2 tiếng) rồi thu hồi -> Tránh bị hack tài khoản admin vĩnh viễn.
    - **Approval**: Yêu cầu sếp duyệt mới được cấp quyền.
- **Identity Protection**: Tự động phát hiện rủi ro đăng nhập (Login từ quốc gia lạ, IP Tor) để bắt đổi pass hoặc chặn.


### Role-Based Access Control (RBAC)
Cơ chế phân quyền truy cập vào tài nguyên Azure resource.
- **Key Concepts:**
    - **Built-in Roles**: Owner (toàn quyền), Contributor (tạo/sửa, không gán quyền), Reader (chỉ xem), User Access Administrator (chỉ gán quyền).
    - **Scope**: Management Group > Subscription > Resource Group > Resource.

### Azure Policy
Công cụ quản trị để thực thi các quy tắc và tiêu chuẩn cho resource.
- **Use Case**: Chặn tạo VM dòng G-series để tiết kiệm tiền, bắt buộc resource phải có Tag "Department".
- **Benefit**: Đảm bảo compliance (tuân thủ) tự động cho toàn bộ hạ tầng.

### Resource Locks
Khóa bảo vệ resource khỏi việc vô tình xóa hoặc sửa đổi.
- **Types**:
    - **CanNotDelete**: Vẫn đọc/sửa được nhưng không xóa được.
    - **ReadOnly**: Chỉ đọc, không sửa, không xóa.

### Tags
Nhãn dán metadata (Key-Value) cho resource.
- **Benefit**: Giúp quản lý billing (chi phí) theo phòng ban, dự án và tìm kiếm resource dễ dàng.

---

## 2. Azure Storage (Lưu trữ)

### Storage Accounts
Container chứa các dịch vụ lưu trữ dữ liệu.
- **Redundancy (Sao lưu dự phòng)**:
    - **LRS**: 3 bản copy trong 1 datacenter (rẻ nhất).
    - **ZRS**: 3 bản copy trong 3 Zones khác nhau (chống sập DC).
    - **GRS**: Copy sang Region khác (chống thảm họa vùng).
    - **GZRS**: Kết hợp ZRS + GRS (xịn nhất).

### Azure Blob Storage
Lưu trữ đối tượng (Object storage) cho dữ liệu phi cấu trúc (ảnh, video, logs).
- **Access Tiers**:
    - **Hot**: Truy cập thường xuyên (giá lưu cao, giá truy cập thấp).
    - **Cool**: Ít truy cập (lưu trữ > 30 ngày).
    - **Cold**: Rất ít truy cập (lưu trữ > 90 ngày).
    - **Archive**: Lưu trữ dài hạn (lấy lại dữ liệu mất nhiều giờ).
- **Lifecycle Management**: Tự động chuyển tier (Hot -> Cool -> Archive) để tiết kiệm tiền.

### Azure Files
File share trên mây, truy cập qua giao thức SMB/NFS.
- **Use Case**: Thay thế file server truyền thống (map network drive).
- **Azure File Sync**: Đồng bộ file server on-premise với Azure Files.

### Azure Storage Explorer & AzCopy
- **Storage Explorer**: Tool GUI để quản lý file/blob dễ dàng.
- **AzCopy**: Tool command-line để copy dữ liệu siêu tốc vào Azure.

### Data Import/Export Services
- **Azure Import/Export Service**: Gửi ổ cứng vật lý đến DC của Microsoft để copy data (khi mạng quá chậm).
- **Azure Data Box**: Microsoft gửi thiết bị lưu trữ chuyên dụng (đến 80TB/box) để bạn copy data rồi gửi lại.


---

## 3. Azure Compute (Tính toán)

### Virtual Machines (VMs)
Máy ảo IaaS, bạn quản lý OS và phần mềm.
- **Availability Set**: Chống sập trong 1 DC (Fault Domain + Update Domain).
- **Availability Zone**: Chống sập cả DC (VM nằm ở các tòa nhà khác nhau).

### Virtual Machine Scale Sets (VMSS)
Tự động scale số lượng VM dựa trên CPU/RAM.
- **Benefit**: Auto-scale (Tự động tăng/giảm VM) theo tải thực tế -> Tiết kiệm chi phí.

### Azure App Service
PaaS để host web app, API mà không cần quan tâm server.
- **Deployment Slots**: Môi trường Staging để test code trước khi swap sang Production (Zero downtime).

### Azure Kubernetes Service (AKS) & Azure Container Instances (ACI)
- **AKS**: Orchestration tool để quản lý cluster container phức tạp (Production grade).
- **ACI**: Chạy container đơn lẻ nhanh chóng, không cần quản lý server (Bursting, task ngắn hạn).

---

## 4. Virtual Networking (Mạng ảo)

### Virtual Network (VNet) & Subnets
Mạng riêng ảo trên cloud.
- **VNet Peering**: Kết nối 2 VNet với nhau (Traffic đi qua backbone của Microsoft, nhanh và bảo mật).

### Network Security Groups (NSG)
Firewall cơ bản lọc traffic vào/ra subnet hoặc NIC.
- **Rule**: Allow/Deny dựa trên IP nguồn/đích và Port (ưu tiên số nhỏ chạy trước).

### Load Balancing (Cân bằng tải)
- **Azure Load Balancer**: Layer 4 (TCP/UDP). Chia tải cơ bản, độ trễ thấp.
- **Application Gateway**: Layer 7 (HTTP/HTTPS). Có WAF (Web Application Firewall) bảo vệ web, routing theo URL.

### Connectivity (Kết nối On-premise)
- **VPN Gateway**: Kết nối qua internet (Site-to-Site, Point-to-Site). Rẻ, encrypted.
- **ExpressRoute**: Đường dây cáp riêng nối thẳng đến Microsoft. Băng thông lớn, tin cậy, không qua internet công cộng.

### DNS
- **Azure DNS**: Host domain name.
- **Private DNS Zones**: Phân giải tên miền trong nội bộ VNet.

### Advanced Networking
- **Azure Bastion**: Truy cập RDP/SSH vào VM qua trình duyệt (HTTPS) mà không cần mở Public IP trên VM. An toàn tuyệt đối.
- **Route Tables (UDR)**: Định tuyến traffic theo ý muốn (VD: ép traffic đi qua Firewall ảo thay vì đi thẳng ra internet).
- **Private Endpoint**: Cấp IP nội bộ (Private IP) cho các dịch vụ PaaS (Storage, SQL) để VM truy cập an toàn, không đi qua internet.
- **Service Endpoints**: Giới hạn truy cập PaaS chỉ từ VNet của mình (vẫn dùng Public IP của service nhưng có firewall chặn).


---

## 5. Monitoring & Backup (Giám sát & Sao lưu)

### Azure Monitor
Trung tâm thu thập dữ liệu (Metrics & Logs).
- **Log Analytics**: Nơi chứa logs, dùng ngôn ngữ KQL để query.
- **Alerts**: Gửi email/sms khi CPU > 80% hoặc Server down.

### Azure Backup
Sao lưu data của VM, File Share, SQL DB.
- **Recovery Services Vault**: Nơi chứa các bản backup và cấu hình Disaster Recovery.
- **Azure Site Recovery (ASR)**: Giải pháp khôi phục thảm họa (Disaster Recovery). Replicate VM từ vùng này sang vùng khác. Khi vùng chính sập, failover sang vùng phụ chạy tiếp.
    - **Backup vs ASR**: Backup là để lấy lại dữ liệu đã mất (quá khứ). ASR là để hệ thống tiếp tục chạy khi có thảm họa (tương lai).



### Network Watcher
Tool để debug mạng.
- **IP Flow Verify**: Kiểm tra xem traffic có bị NSG chặn không.
- **Next Hop**: Kiểm tra đường đi của gói tin.
