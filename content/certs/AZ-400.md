---
title: "AZ-400: Designing and Implementing Microsoft DevOps Solutions - Study Guide"
summary: "DevOps trên Azure: CI/CD, Azure DevOps, GitHub Actions, monitor, governance – cho DevOps Engineer Expert."
---

# AZ-400: Designing and Implementing Microsoft DevOps Solutions - Study Guide

Tài liệu tổng hợp các services quan trọng cho kỳ thi AZ-400. Nội dung tập trung vào Quy trình DevOps, Source Control, CI/CD, và Giám sát.

---

## 1. Governance & Transformation (Quản trị & Chuyển đổi)

### Azure Boards
Công cụ quản lý công việc (Work Item) theo mô hình Agile/Scrum.
- **Key Concepts:**
    - **Boards**: Bảng Kanban trực quan kéo thả task.
    - **Backlogs**: Danh sách việc cần làm (User stories, Bugs).
    - **Sprints**: Chu kỳ phát triển ngắn hạn.
    - **Work Item Types**: Epic > Feature > User Story > Task / Bug.

### GitHub
Nền tảng quản lý source code phổ biến nhất.
- **GitHub Projects**: Quản lý dự án tương tự Azure Boards.
- **GitHub Advanced Security**: Quét bảo mật trong code (Secret scanning, Code scanning).

---

## 2. Source Control (Quản lý mã nguồn)

### Azure Repos (Git)
Dịch vụ lưu trữ mã nguồn private Git không giới hạn.
- **Branch Policies**: Quy tắc bảo vệ nhánh chính (main/master).
    - Bắt buộc phải có **Pull Request (PR)**.
    - Bắt buộc phải có **Work Item linked** (Code này làm cho task nào?).
    - Bắt buộc **Build Validation** (Code phải build thành công mới được merge).
    - Bắt buộc **Reviewers** (Phải có người review).

### Git Strategy
- **Trunk-based development**: Mọi người merge code vào nhánh chính thường xuyên (tốt cho CI/CD tốc độ cao).
- **GitFlow**: Mô hình truyền thống với nhiều nhánh (Feature, Develop, Release, Master/Main). An toàn nhưng phức tạp hơn.

---

## 3. Pipelines & CI/CD (Tự động hóa)

### Azure Pipelines (Build & Release)
Dịch vụ CI/CD đa nền tảng.
- **YAML Pipelines**: Định nghĩa quy trình build/deploy bằng code (`azure-pipelines.yml`). Lưu chung với source code -> Version control được cả pipeline.
- **Classic Editor (GUI)**: Kéo thả (Cũ, Microsoft khuyên dùng YAML).
- **Agents**: Máy chủ chạy job build/deploy.
    - **Microsoft-hosted**: Máy ảo của Microsoft cấp, dùng xong hủy. Tiện nhưng không lưu state.
    - **Self-hosted**: Máy của mình cài agent. Nhanh hơn (có cache), truy cập được resource nội bộ.

### GitHub Actions
Tương đương Azure Pipelines nhưng tích hợp sâu trong GitHub.
- **Workflow**: File YAML định nghĩa quy trình.
- **Runners**: Tương đương Agents của Azure Pipelines.

### Release Strategies (Chiến lược triển khai)
- **Blue-Green Deployment**: 2 môi trường song song (Blue=Cũ, Green=Mới). Switch traffic tức thì. An toàn, dễ rollback.
- **Canary Release**: Triển khai cho 1 nhóm nhỏ user trước (ví dụ 10%), ổn thì bung ra hết.
- **Rolling Deployment**: Update lần lượt từng server trong cụm (VD: update server 1 -> ổn -> update server 2).
- **Feature Flags**: Tắt/bật tính năng bằng config mà không cần deploy lại code. (Dùng **LaunchDarkly** hoặc **Azure App Configuration**).

---

## 4. Package Management (Quản lý thư viện)

### Azure Artifacts
Kho chứa các gói thư viện (Packages) nội bộ.
- **Supported types**: NuGet (.NET), npm (JS), Maven (Java), Python (PyPI).
- **Upstream Sources**: Proxy các gói từ kho công cộng (npmjs.com) về cache tại Azure Artifacts -> Nếu npmjs sập, ta vẫn build được.
- **Versioning Strategy**:
    - **SemVer (Semantic Versioning)**: Quy tắc đặt phiên bản (Major.Minor.Patch). VD: 1.0.0 -> 1.0.1 (Fix bug) -> 1.1.0 (Thêm tính năng) -> 2.0.0 (Thay đổi lớn, không tương thích ngược).


---

## 5. Security & Compliance (DevSecOps)

### Mend (trước là WhiteSource) Bolt
Tool quét mã nguồn mở (Open Source) miễn phí tích hợp trong Azure DevOps.
- **Use Case**: Phát hiện thư viện bên thứ 3 có lỗi bảo mật hoặc license không hợp lệ.
- **OWASP ZAP**: Tool quét lỗ hổng bảo mật ứng dụng web (DAST - Dynamic Application Security Testing) chạy trên trang web đang hoạt động (localhost hoặc staging).


### SonarCloud / SonarQube
Tool phân tích chất lượng code (Static Code Analysis).
- **Use Case**: Phát hiện code thối (code smell), lặp code, bug tiềm ẩn, lỗ hổng bảo mật.

### Azure Key Vault (trong DevOps)
- **Use Case**: Pipeline lấy password/secret từ Key Vault lúc chạy deploy. **Tuyệt đối không hard-code password trong file YAML**.

---

## 6. Monitoring & Feedback (Giám sát & Phản hồi)

### Azure Monitor & Log Analytics
- **Use Case**: Thu thập log từ hạ tầng và ứng dụng. Tạo Dashboard theo dõi sức khỏe hệ thống sau khi deploy.

### Application Insights
- **Use Case**: Phát hiện lỗi application ngay sau khi deploy (Continuous Monitoring). Tích hợp với Azure Boards để tự tạo Bug khi có lỗi exception.

### Azure Test Plans
Quản lý test thủ công (Manual Test) và tự động (Automated Test).
- **Use Case**: QA/Tester viết test case, chạy test và báo cáo kết quả.

### Communication & Collaboration (ChatOps)
- **Integration**: Kết nối Azure DevOps/GitHub với Microsoft Teams hoặc Slack.
- **Benefit**: Nhận thông báo build fail ngay trong chat, hoặc gõ lệnh trong chat để trigger build (ChatOps).


### Site Reliability Engineering (SRE)
Mô hình vận hành hệ thống tin cậy.
- **SLI (Service Level Indicator)**: Chỉ số đo lường thực tế (VD: Latency hiện tại là 200ms).
- **SLO (Service Level Objective)**: Mục tiêu đặt ra (VD: Latency phải < 300ms).
- **SLA (Service Level Agreement)**: Cam kết với khách hàng (VD: Nếu downtime quá 99.9% thì đền tiền).
- **Error Budget**: "Ngân sách lỗi". Nếu hệ thống chạy quá ổn định (chưa dùng hết budget lỗi), team được phép deploy tính năng mới rủi ro hơn. Nếu hết budget, phải ngừng deploy để fix lỗi.


---

## 7. Infrastructure as Code (IaC)

### ARM Templates / Bicep
Code định nghĩa hạ tầng Azure (Native).
- **Idempotent**: Chạy 1 lần hay n lần kết quả vẫn y nguyên (không tạo trùng resource).

### Terraform
Tool IaC mã nguồn mở, đa nền tảng (AWS, Azure, Google).
- **State file**: Terraform lưu trạng thái hiện tại của hạ tầng vào file state.

### Ansible
Tool cấu hình máy chủ (Configuration Management).
- **Difference**: Terraform giỏi *tạo* server, Ansible giỏi *cài phần mềm* vào server đó.

### Desired State Configuration (DSC)
Giải pháp cấu hình code (Configuration-as-Code) của PowerShell.
- **Pull Mode**: Server tự "hỏi" DSC server xem có cấu hình mới không để tự cài.
- **Push Mode**: Admin đẩy cấu hình xuống server.

### Docker Multi-Stage Builds
Kỹ thuật tối ưu Dockerfile.
- **Benefit**: Dùng 1 image nặng để build code (chứa SDK, compiler), sau đó copy file đã build sang 1 image nhẹ hơn (chỉ chứa Runtime) để chạy. -> Giảm kích thước image, tăng tốc deploy.

### Mobile DevOps
- **Visual Studio App Center**: Dịch vụ chuyên cho Mobile (iOS/Android).
    - **Distribute**: Gửi bản test cho beta tester cài đặt qua email.
    - **Diagnostics**: Thu thập crash report từ điện thoại người dùng.


